define(["require","./login-on.js"],function(_require,_loginOn){"use strict";_require=babelHelpers.interopRequireWildcard(_require);function _templateObject_7ce2b0706c2d11e9b33b8989c04d22b4(){var data=babelHelpers.taggedTemplateLiteral(["\n      <style>\n        :host {\n          --app-primary-color: #ffffff;\n          --app-secondary-color: black;\n          --app-drawer-content-container: {\n            background-color: #3e495e;\n            \n          }\n          display: block;\n        }\n\n        app-drawer-layout:not([narrow]) [drawer-toggle] {\n          display: none;\n        }\n\n        app-header {\n          color: #636363;\n          background-color: var(--app-primary-color);\n          letter-spacing: 2px;\n        }\n\n        app-header paper-icon-button {\n          --paper-icon-button-ink-color: white;\n        }\n\n        .drawer-list {\n          margin: 0 20px;\n        }\n\n        .drawer-list a {\n          display: block;\n          padding: 0 16px;\n          text-decoration: none;\n          color: #f0f0f0;;\n          line-height: 40px;\n        }\n\n        .drawer-list a.iron-selected {\n          color: black;\n          font-weight: bold;\n        }\n\n        .logo {\n          /* background-color: red; */\n          margin-left: 12px;\n          margin-top: 20px;\n        }\n      </style>\n\n      <app-location route=\"{{route}}\" url-space-regex=\"^[[rootPath]]\">\n      </app-location>\n\n      <app-route route=\"{{route}}\" pattern=\"[[rootPath]]:page\" data=\"{{routeData}}\" tail=\"{{subroute}}\">\n      </app-route>\n\n      <iron-ajax\n        auto\n        id=\"iaApiLogin\"\n        url=\"{{apiData.url}}/login\"\n        content-type=\"application/json\"\n        body=\"{{apiData.credentials}}\"\n        handle-as=\"json\"\n        method=\"post\"\n        last-response=\"{{loginToken}}\"\n        on-response=\"__saveToken\"\n        debounce-duration=\"300\">\n      </iron-ajax>\n\n      <app-drawer-layout fullbleed=\"\" narrow=\"{{narrow}}\">\n        <!-- Drawer content -->\n        <app-drawer id=\"drawer\" slot=\"drawer\" swipe-open=\"[[narrow]]\">\n          <app-toolbar>\n            <img class=\"logo\" src=\"../images/menu_negative_logo_expanded.svg\" alt=\"\">\n          </app-toolbar>\n          <iron-selector selected=\"[[page]]\" attr-for-selected=\"name\" class=\"drawer-list\" role=\"navigation\">\n            <a name=\"accountList\" href=\"[[rootPath]]list\">Empresas</a>\n          </iron-selector>\n        </app-drawer>\n\n        <!-- Main content -->\n        <app-header-layout has-scrolling-region=\"\">\n\n          <app-header slot=\"header\" fixed condenses=\"\" effects=\"waterfall\">\n            <app-toolbar>\n              <paper-icon-button icon=\"my-icons:menu\" drawer-toggle=\"\"></paper-icon-button>\n              <div main-title id=\"mainTitle\">{{title}}</div>\n            </app-toolbar>\n          </app-header>\n\n          <iron-pages selected=\"[[page]]\" attr-for-selected=\"name\" role=\"main\">\n            <account-list name=\"list\"></account-list>\n            <account-add name=\"add\"></account-add>\n            <account-edit name=\"edit\"></account-edit>\n            <error-404 name=\"error404\"></error-404>\n          </iron-pages>\n        </app-header-layout>\n      </app-drawer-layout>\n    "]);_templateObject_7ce2b0706c2d11e9b33b8989c04d22b4=function _templateObject_7ce2b0706c2d11e9b33b8989c04d22b4(){return data};return data}(0,_loginOn.registerEffect)("blend-background",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(){var fx={backgroundFrontLayer:this._getDOMRef("backgroundFrontLayer"),backgroundRearLayer:this._getDOMRef("backgroundRearLayer")};fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.transform="translateZ(0)";fx.backgroundRearLayer.style.opacity=0;this._fxBlendBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxBlendBackground;fx.backgroundFrontLayer.style.opacity=1-p;fx.backgroundRearLayer.style.opacity=p},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxBlendBackground}});(0,_loginOn.registerEffect)("fade-background",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(config){var fx={},duration=config.duration||"0.5s";fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.backgroundFrontLayer.style.willChange="opacity";fx.backgroundFrontLayer.style.webkitTransform="translateZ(0)";fx.backgroundFrontLayer.style.transitionProperty="opacity";fx.backgroundFrontLayer.style.transitionDuration=duration;fx.backgroundRearLayer.style.willChange="opacity";fx.backgroundRearLayer.style.webkitTransform="translateZ(0)";fx.backgroundRearLayer.style.transitionProperty="opacity";fx.backgroundRearLayer.style.transitionDuration=duration;this._fxFadeBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxFadeBackground;if(1<=p){fx.backgroundFrontLayer.style.opacity=0;fx.backgroundRearLayer.style.opacity=1}else{fx.backgroundFrontLayer.style.opacity=1;fx.backgroundRearLayer.style.opacity=0}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxFadeBackground}});(0,_loginOn.registerEffect)("waterfall",{/**
   *  @this Polymer.AppLayout.ElementWithBackground
   */run:function run(){this.shadow=this.isOnScreen()&&this.isContentBelow()}});function interpolate(progress,points,fn,ctx){fn.apply(ctx,points.map(function(point){return point[0]+(point[1]-point[0])*progress}))}/**
   * Transform the font size of a designated title element between two values
   * based on the scroll position.
   */(0,_loginOn.registerEffect)("resize-title",{/** @this Polymer.AppLayout.ElementWithBackground */setUp:function setUp(){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle");if(!condensedTitle){console.warn("Scroll effect `resize-title`: undefined `condensed-title`");return(/* ignoreName */ /* ignoreName */!1/* skipSlots */ /* skipSlots */)}if(!title){console.warn("Scroll effect `resize-title`: undefined `main-title`");return!1}condensedTitle.style.willChange="opacity";condensedTitle.style.webkitTransform="translateZ(0)";condensedTitle.style.transform="translateZ(0)";condensedTitle.style.webkitTransformOrigin="left top";condensedTitle.style.transformOrigin="left top";title.style.willChange="opacity";title.style.webkitTransformOrigin="left top";title.style.transformOrigin="left top";title.style.webkitTransform="translateZ(0)";title.style.transform="translateZ(0)";var titleClientRect=title.getBoundingClientRect(),condensedTitleClientRect=condensedTitle.getBoundingClientRect(),fx={};fx.scale=parseInt(window.getComputedStyle(condensedTitle)["font-size"],10)/parseInt(window.getComputedStyle(title)["font-size"],10);fx.titleDX=titleClientRect.left-condensedTitleClientRect.left;fx.titleDY=titleClientRect.top-condensedTitleClientRect.top;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeTitle=fx},/** @this PolymerElement */run:function run(p,y){var fx=this._fxResizeTitle;if(!this.condenses){y=0}if(1<=p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}interpolate(Math.min(1,p),[[1,fx.scale],[0,-fx.titleDX],[y,y-fx.titleDY]],function(scale,translateX,translateY){this.transform("translate("+translateX+"px, "+translateY+"px) "+"scale3d("+scale+", "+scale+", 1)",fx.title)},this)},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxResizeTitle}});(0,_loginOn.registerEffect)("parallax-background",{/**
   * @param {{scalar: string}} config
   * @this Polymer.AppLayout.ElementWithBackground
   */setUp:function setUp(config){var fx={},scalar=parseFloat(config.scalar);fx.background=this._getDOMRef("background");fx.backgroundFrontLayer=this._getDOMRef("backgroundFrontLayer");fx.backgroundRearLayer=this._getDOMRef("backgroundRearLayer");fx.deltaBg=fx.backgroundFrontLayer.offsetHeight-fx.background.offsetHeight;if(0===fx.deltaBg){if(isNaN(scalar)){scalar=.8}fx.deltaBg=(this._dHeight||0)*scalar}else{if(isNaN(scalar)){scalar=1}fx.deltaBg=fx.deltaBg*scalar}this._fxParallaxBackground=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxParallaxBackground;this.transform("translate3d(0px, "+fx.deltaBg*Math.min(1,p)+"px, 0px)",fx.backgroundFrontLayer);if(fx.backgroundRearLayer){this.transform("translate3d(0px, "+fx.deltaBg*Math.min(1,p)+"px, 0px)",fx.backgroundRearLayer)}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){delete this._fxParallaxBackground}});(0,_loginOn.registerEffect)("material",{/**
   * @this Polymer.AppLayout.ElementWithBackground
   */setUp:function setUp(){this.effects="waterfall resize-title blend-background parallax-background";return!1}});(0,_loginOn.registerEffect)("resize-snapped-title",{/**
   * @this Polymer.AppLayout.ElementWithBackground
   */setUp:function setUp(config){var title=this._getDOMRef("mainTitle"),condensedTitle=this._getDOMRef("condensedTitle"),duration=config.duration||"0.2s",fx={};if(!condensedTitle){console.warn("Scroll effect `resize-snapped-title`: undefined `condensed-title`");return!1}if(!title){console.warn("Scroll effect `resize-snapped-title`: undefined `main-title`");return!1}title.style.transitionProperty="opacity";title.style.transitionDuration=duration;condensedTitle.style.transitionProperty="opacity";condensedTitle.style.transitionDuration=duration;fx.condensedTitle=condensedTitle;fx.title=title;this._fxResizeSnappedTitle=fx},/** @this Polymer.AppLayout.ElementWithBackground */run:function run(p,y){var fx=this._fxResizeSnappedTitle;if(0<p){fx.title.style.opacity=0;fx.condensedTitle.style.opacity=1}else{fx.title.style.opacity=1;fx.condensedTitle.style.opacity=0}},/** @this Polymer.AppLayout.ElementWithBackground */tearDown:function tearDown(){var fx=this._fxResizeSnappedTitle;fx.title.style.transition="";fx.condensedTitle.style.transition="";delete this._fxResizeSnappedTitle}});// preventable, allowing for better scrolling performance.
(0,_loginOn.setPassiveTouchGestures)(!0/* skipSlots */);// Set Polymer's root path to the same value we passed to our service worker
// in `index.html`.
(0,_loginOn.setRootPath)(MainInitGlobals.rootPath);var MainInit=/*#__PURE__*/function(_PolymerElement){babelHelpers.inherits(MainInit,_PolymerElement);function MainInit(){babelHelpers.classCallCheck(this,MainInit);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(MainInit).apply(this,arguments))}babelHelpers.createClass(MainInit,[{key:"__saveToken",value:function __saveToken(e){if(this.loginToken.token){MainInitGlobals.apiData.token=this.loginToken.token}else{console.log("none api connect")}}},{key:"_routePageChanged",value:function _routePageChanged(page){//Marcamos la página inicial, o bien, si no existe, mostramos error!
if(!page){this.page="list"}else if(-1!==["list","add","edit"].indexOf(page)){this.page=page}else{this.page="error404"}if(!this.$.drawer.persistent){this.$.drawer.close()}}},{key:"_pageChanged",value:function _pageChanged(page){switch(page){case"list":new Promise(function(res,rej){return _require.default(["./account-list.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$accountList||{}});break;case"add":new Promise(function(res,rej){return _require.default(["./account-add.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$accountAdd||{}});break;case"edit":new Promise(function(res,rej){return _require.default(["./account-edit.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$accountEdit||{}});break;case"error404":new Promise(function(res,rej){return _require.default(["./error-404.js"],res,rej)}).then(function(bundle){return bundle&&bundle.$error$404||{}});break;}}}],[{key:"template",get:function get(){return(0,_loginOn.html)(_templateObject_7ce2b0706c2d11e9b33b8989c04d22b4())}},{key:"properties",get:function get(){return{title:{type:String,value:MainInitGlobals.title},page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},apiData:{type:Object,value:MainInitGlobals.apiData},loginToken:{type:Object},routeData:Object,subroute:Object}}},{key:"observers",get:function get(){return["_routePageChanged(routeData.page)"]}}]);return MainInit}(_loginOn.PolymerElement);window.customElements.define("main-init",MainInit)});